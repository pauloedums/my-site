function buttonsClick(){function t(){window.scrollTo(r?r.x:0,r?r.y:0)}function e(){window.removeEventListener("scroll",i),window.addEventListener("scroll",t)}function n(){window.addEventListener("scroll",i)}function o(){window.removeEventListener("scroll",t),n()}function i(){a||(a=!0,setTimeout(function(){s()},60))}function s(){r={x:window.pageXOffset||l.scrollLeft,y:window.pageYOffset||l.scrollTop},a=!1}var a,r,l=window.document.documentElement;n(),[].slice.call(document.querySelectorAll(".morph-button")).forEach(function(t,n){classie.addClass(t,"el"+n),new UIMorphingButton(t,{closeEl:".icon-close",onBeforeOpen:function(){e()},onAfterOpen:function(){o(),classie.addClass(document.body,"noscroll"),classie.addClass(t,"scroll")},onBeforeClose:function(){classie.removeClass(document.body,"noscroll"),classie.removeClass(t,"scroll"),e()},onAfterClose:function(){o()}})})}!function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=o(t,e)?s:i;n(t,e)}var o,i,s;"classList"in document.documentElement?(o=function(t,e){return t.classList.contains(e)},i=function(t,e){t.classList.add(e)},s=function(t,e){t.classList.remove(e)}):(o=function(t,n){return e(n).test(t.className)},i=function(t,e){o(t,e)||(t.className=t.className+" "+e)},s=function(t,n){t.className=t.className.replace(e(n)," ")});var a={hasClass:o,addClass:i,removeClass:s,toggleClass:n,has:o,add:i,remove:s,toggle:n};"function"==typeof define&&define.amd?define(a):t.classie=a}(window),function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.el=t,this.options=e({},this.options),e(this.options,n),this._init()}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},i=o[Modernizr.prefixed("transition")],s={transitions:Modernizr.csstransitions};n.prototype.options={closeEl:"",onBeforeOpen:function(){return!1},onAfterOpen:function(){return!1},onBeforeClose:function(){return!1},onAfterClose:function(){return!1}},n.prototype._init=function(){this.button=this.el.querySelector("button"),this.expanded=!1,this.contentEl=this.el.querySelector(".morph-content"),this._initEvents()},n.prototype._initEvents=function(){var t=this;if(this.button.addEventListener("click",function(){t.toggle()}),""!==this.options.closeEl){var e=this.el.querySelector(this.options.closeEl);e&&e.addEventListener("click",function(){t.toggle()})}},n.prototype.toggle=function(){if(this.isAnimating)return!1;this.expanded?this.options.onBeforeClose():(classie.addClass(this.el,"active"),this.options.onBeforeOpen()),this.isAnimating=!0;var t=this,e=function(n){if(n.target!==this)return!1;if(s.transitions){if(t.expanded&&"opacity"!==n.propertyName||!t.expanded&&"width"!==n.propertyName&&"height"!==n.propertyName&&"left"!==n.propertyName&&"top"!==n.propertyName)return!1;this.removeEventListener(i,e)}t.isAnimating=!1,t.expanded?(classie.removeClass(t.el,"active"),t.options.onAfterClose()):t.options.onAfterOpen(),t.expanded=!t.expanded};s.transitions?this.contentEl.addEventListener(i,e):e();var n=this.button.getBoundingClientRect();classie.addClass(this.contentEl,"no-transition"),this.contentEl.style.left="auto",this.contentEl.style.top="auto",setTimeout(function(){t.contentEl.style.left=n.left+"px",t.contentEl.style.top=n.top+"px",t.expanded?(classie.removeClass(t.contentEl,"no-transition"),classie.removeClass(t.el,"open")):setTimeout(function(){classie.removeClass(t.contentEl,"no-transition"),classie.addClass(t.el,"open")},25)},25)},t.UIMorphingButton=n}(window),function(){function t(){window.scrollTo(r?r.x:0,r?r.y:0)}function e(){window.removeEventListener("scroll",i),window.addEventListener("scroll",t)}function n(){window.addEventListener("scroll",i)}function o(){window.removeEventListener("scroll",t),n()}function i(){a||(a=!0,setTimeout(function(){s()},60))}function s(){r={x:window.pageXOffset||l.scrollLeft,y:window.pageYOffset||l.scrollTop},a=!1}var a,r,l=window.document.documentElement;n(),[].slice.call(document.querySelectorAll(".morph-button")).forEach(function(t){new UIMorphingButton(t,{closeEl:".icon-close",onBeforeOpen:function(){e()},onAfterOpen:function(){o()},onBeforeClose:function(){e()},onAfterClose:function(){o()}})}),[].slice.call(document.querySelectorAll("form button")).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault()})})}();var getStatus=1;!function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.button=t,this.options=e({},this.options),e(this.options,n),this._init()}Modernizr.addTest("csstransformspreserve3d",function(){var e,n=Modernizr.prefixed("transformStyle"),o="preserve-3d";return n?(n=n.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+n+":"+o+";}",function(o){e=t.getComputedStyle?getComputedStyle(o,null).getPropertyValue(n):""}),e===o):!1});var o={transitions:Modernizr.csstransitions,transforms3d:Modernizr.csstransforms3d&&Modernizr.csstransformspreserve3d},i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},s=i[Modernizr.prefixed("transition")];n.prototype.options={statusTime:1500},n.prototype._init=function(){this._validate(),this._create(),this._initEvents()},n.prototype._validate=function(){null===this.button.getAttribute("data-style")&&this.button.setAttribute("data-style","fill"),null===this.button.getAttribute("data-vertical")&&null===this.button.getAttribute("data-horizontal")&&this.button.setAttribute("data-horizontal",""),o.transforms3d||null===this.button.getAttribute("data-perspective")||(this.button.removeAttribute("data-perspective"),this.button.setAttribute("data-style","fill"),this.button.removeAttribute("data-vertical"),this.button.setAttribute("data-horizontal",""))},n.prototype._create=function(){var t=document.createElement("span");t.className="content",t.innerHTML=this.button.innerHTML;var e=document.createElement("span");e.className="progress";var n=document.createElement("span");if(n.className="progress-inner",e.appendChild(n),this.button.innerHTML="",null!==this.button.getAttribute("data-perspective")){var o=document.createElement("span");o.className="progress-wrap",o.appendChild(t),o.appendChild(e),this.button.appendChild(o)}else this.button.appendChild(t),this.button.appendChild(e);this.progress=n,null!==this.button.getAttribute("data-horizontal")?this.progressProp="width":null!==this.button.getAttribute("data-vertical")&&(this.progressProp="height"),this._enable()},n.prototype._setProgress=function(t){this.progress.style[this.progressProp]=100*t+"%"},n.prototype._initEvents=function(){var t=this;this.button.addEventListener("click",function(){t.button.setAttribute("disabled",""),classie.remove(t.progress,"notransition"),classie.add(this,"state-loading"),setTimeout(function(){if("function"==typeof t.options.callback)t.options.callback(t);else{t._setProgress(1);var e=function(n){o.transitions&&n.propertyName!==t.progressProp||(this.removeEventListener(s,e),t._stop())};o.transitions?t.progress.addEventListener(s,e):e.call()}},"fill"===t.button.getAttribute("data-style")||"top-line"===t.button.getAttribute("data-style")||"lateral-lines"===t.button.getAttribute("data-style")?0:200)})},n.prototype._stop=function(t){var e=this;setTimeout(function(){e.progress.style.opacity=0;var n=function(t){o.transitions&&"opacity"!==t.propertyName||(this.removeEventListener(s,n),classie.add(e.progress,"notransition"),e.progress.style[e.progressProp]="0%",e.progress.style.opacity=1)};if(o.transitions?e.progress.addEventListener(s,n):n.call(),"number"==typeof t){if(1===t)var i="state-error";else var i="state-success";classie.add(e.button,i),setTimeout(function(){classie.remove(e.button,i),e._enable()},e.options.statusTime)}else e._enable();classie.remove(e.button,"state-loading")},100)},n.prototype._enable=function(){this.button.removeAttribute("disabled")},t.ProgressButton=n}(window),$("input,textarea").on("focus",function(){$(this).removeClass("error")}).on("focusout",function(){""==$(this).val()&&$(this).addClass("error")}),$("#submit").click(function(){var t=$("input[name=name]"),e=$("input[name=email]"),n=$("textarea[name=comment]"),o=!1;if(""==t.val()?(t.addClass("error"),o=!0):t.removeClass("error"),""==e.val()?(e.addClass("error"),o=!0):e.removeClass("error"),""==n.val()?(n.addClass("error"),o=!0):n.removeClass("error"),1==o)return!1;var i="name="+t.val()+"&email="+e.val()+"&comment="+encodeURIComponent(n.val());return $.ajax({url:"scripts/process.php",type:"GET",data:i,cache:!1,success:function(t){1==t?(getStatus=0,$("input, textarea,label").fadeOut(500).prop("disabled",!0).attr("disabled","true"),$(".morph-content h4").html("Thanks for<br />the message!<br />I will respond soon.<br />"),$(".me").addClass("firstBTN").text("Sent! Thanks."),$("#submit").prop("disabled",!0).attr("disabled","true"),intervalFinish=setInterval(function(){$("#submit").removeClass("progress-button").text("sent!").addClass("finish"),clearInterval(intervalFinish),$("form").attr({action:"#",method:""})},1950)):(getStatus=1,$("input, textarea, button").prop("enabled",!0),$("button").prop("disabled",!0).addClass("state-error").removeClass("state-error"),alert("Sorry, unexpected error. Please try again later."))}}),!1}),[].slice.call(document.querySelectorAll("button.progress-button")).forEach(function(t){new ProgressButton(t,{callback:function(t){var e=0,n=setInterval(function(){e=Math.min(e+.5*Math.random(),1),t._setProgress(e),1===e&&(t._stop(getStatus),clearInterval(n))},200)}})}),function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function n(t,n){this.el=t,this.options=e({},this.options),e(this.options,n),this._init()}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},i=o[Modernizr.prefixed("transition")],s={transitions:Modernizr.csstransitions};n.prototype.options={closeEl:"",onBeforeOpen:function(){return!1},onAfterOpen:function(){return!1},onBeforeClose:function(){return!1},onAfterClose:function(){return!1}},n.prototype._init=function(){this.button=this.el.querySelector("button"),this.expanded=!1,this.contentEl=this.el.querySelector(".morph-content"),this._initEvents()},n.prototype._initEvents=function(){var t=this;if(this.button.addEventListener("click",function(){t.toggle()}),""!==this.options.closeEl){var e=this.el.querySelector(this.options.closeEl);e&&e.addEventListener("click",function(){t.toggle(),$("#works .nav-doubleflip a").fadeOut()})}},n.prototype.toggle=function(){if(this.isAnimating)return!1;this.expanded?this.options.onBeforeClose():(classie.addClass(this.el,"active"),this.options.onBeforeOpen()),this.isAnimating=!0;var t=this,e=function(n){if(n.target!==this)return!1;if(s.transitions){if(t.expanded&&"opacity"!==n.propertyName||!t.expanded&&"width"!==n.propertyName&&"height"!==n.propertyName&&"left"!==n.propertyName&&"top"!==n.propertyName)return!1;this.removeEventListener(i,e)}t.isAnimating=!1,t.expanded?(classie.removeClass(t.el,"active"),t.options.onAfterClose()):t.options.onAfterOpen(),t.expanded=!t.expanded};s.transitions?this.contentEl.addEventListener(i,e):e();var n=this.button.getBoundingClientRect();classie.addClass(this.contentEl,"no-transition"),this.contentEl.style.left="auto",this.contentEl.style.top="auto",setTimeout(function(){t.contentEl.style.left=n.left+"px",t.contentEl.style.top=n.top+"px",t.expanded?(classie.removeClass(t.contentEl,"no-transition"),classie.removeClass(t.el,"open")):setTimeout(function(){classie.removeClass(t.contentEl,"no-transition"),classie.addClass(t.el,"open")},25)},25)},t.UIMorphingButton=n}(window);var thisDiv,dataJSON,numImgs=0,thisPortImgs=0,JSONurl="scripts/portfolio.json",idPort=[],thumbs=[],titles=[],work=[],globals={init:function(){globals.links(),works.init(),services.init()},links:function(){$(".navbar a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash),e=$(t).attr("id");if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),globals.gaTrackEvent("nav","click",e),t.length)return"works"==e?($("html,body").animate({scrollTop:t.offset().top-60},1200,"easeInOutExpo"),!1):($("html,body").animate({scrollTop:t.offset().top-100},1200,"easeInOutExpo"),!1)}})},detection:function(t){navigator.userAgent.toLowerCase().indexOf("iphone"),navigator.userAgent.toLowerCase().indexOf("ipad"),navigator.userAgent.toLowerCase().indexOf("ipod"),/android/i.test(navigator.userAgent.toLowerCase()),navigator.userAgent.toLowerCase().indexOf("BlackBerry"),/Opera/i.test(navigator.userAgent.toLowerCase()),navigator.userAgent.toLowerCase().indexOf("IEMobile");switch(t){case"tablet":return'<span><svg class="icon-extra icon-tablet" viewBox="0 0 32 32"><use xlink:href="#icon-tablet"></use></svg><em>tablet ad</em></span>';case"mobile":return'<span><svg class="icon-extra icon-mobile" viewBox="0 0 32 32"><use xlink:href="#icon-mobile"></use></svg><em>mobile ad</em></span>';default:return'<span><svg class="icon-extra icon-screen" viewBox="0 0 32 32"><use xlink:href="#icon-screen"></use></svg><em>desktop site</em></span>'}},gaTrackEvent:function(t,e,n){_gaq.push(["_trackEvent",t,e,n])},homeAnimation:function(){}},works={init:function(){$.getJSON(JSONurl,works.jsonCall)},jsonCall:function(t){dataJSON=t,works.addContent(),$(".externalLink").on("click",function(){var t=$(this).text(),e=$(".externalLink").index(this)-1;-1==e?(e+=1,id=idPort[e],globals.gaTrackEvent(id,"click",t)):(id=idPort[e],globals.gaTrackEvent(id,"click",t))})},addContent:function(){var t="<ul>";$.each(dataJSON,function(e,n){1==n.available&&(t+='<li class="morph-button morph-button-overlay morph-button-fixed"><button type="button" class="effect-honey">',t+='<figure><img src="'+n.thumb+'" alt="'+n.title+'" />',t+='<figcaption><h4 class="info">'+n.title+"</h4></figcaption></figure></button>",t+='<div class="morph-content"><div><div class="content-style-overlay"><span class="icon icon-close"></span>',t+="<h3>"+n.title+" <i>|</i> ",t+=globals.detection(n.gadget)+"</h3>",t+='<div id="'+n.work+'" class="owl-carousel owl-theme">',t+="</div>",t+="<p>"+n.text+"</p>",t+='<div class="more">',""!=n.link?n.link.length>1?(t+='<a class="externalLink cases" href="'+n.link[0]+'" target="_blank">HP</a>',t+='<a class="externalLink cases" href="'+n.link[1]+'" target="_blank">DPA</a>'):t+='<a class="externalLink" href="'+n.link[0]+'" target="_blank">link</a>':t+='<a class="externalLink noLink">no link</a>',idPort.push(n.work))}),t+="</ul>",$("#works").html(t),buttonsClick(),works.prevClick(),works.nextClick(),works.btnsEvts()},internalNav:function(){var t='<nav class="nav-doubleflip">';$.each(dataJSON,function(e,n){1==n.available&&(titles.push(n.title),thumbs.push(n.thumb),work.push(n.work),t+=0==e?'<a class="mega-octicon octicon-chevron-right next" title="'+e+'"><div><img src="'+thumbs[e]+'" alt="Next thumb"/><p>'+titles[e]+"</p></div></a>":11==e?'<a class="mega-octicon octicon-chevron-left prev" title="'+e+'"><div><img src="'+thumbs[e]+'" alt="Previous thumb"/><p>'+titles[e]+"</p></div></a>":'<a class="mega-octicon octicon-chevron-left prev" title="'+e+'"><div><img src="'+thumbs[e]+'" alt="Previous thumb"/><p>'+titles[e]+'</p></div></a><a class="mega-octicon octicon-chevron-right next" title="'+e+'"><div><img src="'+thumbs[e]+'" alt="Next thumb"/><p>'+titles[e]+"</p></div></a>")}),t+="</nav>",$("#works").append(t)},addImages:function(t){var e=$("#works .morph-button button").index(t),n=idPort[e];thisDiv=$("#"+n);var o=thisDiv.attr("class");return o=o?o.split(/\s+/)[2]:"","clicked"==o?(console.log("clicked"),!1):($.each(dataJSON,function(t,e){if(1==e.available&&e.work==n){numImgs=0,thisPortImgs=e.images;for(var o=0;o<e.images;o++){var i=Math.random();imageURL="images/work/"+n+"/0"+o+".jpg?img="+i,imageTitle=e.title,thisDiv.append('<div class="item"><img class="lazyOwl" src="'+imageURL+'" alt="'+e.title+'" onload=works.onloadLastImage(thisDiv) /></div>').addClass("clicked"),$("#"+n+" .item").eq(o).find("img").css({display:"block",width:"50%",height:"auto",margin:"0 auto"}).parent().parent().css({display:"block",width:"100%",height:"auto"})}}}),void globals.gaTrackEvent("works","click",n))},onloadLastImage:function(t){numImgs==thisPortImgs-1&&(t.parent().fadeIn(100,"easeInSine"),t.owlCarousel({navigation:!1,slideSpeed:300,transitionStyle:"backSlide",autoPlay:3e3,stopOnHover:!0,singleItem:!0,autoHeight:!0})),numImgs++},prevClick:function(t,e){$(".nav-doubleflip .prev").on("click",function(){e=$(this).attr("title"),t=parseInt(e)-1,$("#works .el"+t+" button").trigger("click")})},nextClick:function(t,e){$(".nav-doubleflip .next").on("click",function(){e=$(this).attr("title"),t=parseInt(e)+1,$("#works .el"+t+" button").trigger("click")})},btnsEvts:function(){$("#works .morph-button button").on("click",function(){works.addImages(this)}).on("hover",function(){$(this).parent().find(".info").addClass("hover")})}},services={init:function(){services.buttons()},buttons:function(){$("#info #contactMe").on("click",function(){globals.gaTrackEvent("contact","click","contact_button")}),$("#info .finish").on("click",function(){globals.gaTrackEvent("contact","click","finish_button")}),$("#info .firstBTN").on("click",function(){globals.gaTrackEvent("contact","click","firstBTN_button")}),$("#info .treehouse").on("click",function(){globals.gaTrackEvent("contact","click","treehouse_button")}),$("#info .linkedin").on("click",function(){globals.gaTrackEvent("contact","click","linkedin_button")}),$("#info .email").on("click",function(){globals.gaTrackEvent("contact","click","email_button")}),$("#info #submit").on("click",function(){globals.gaTrackEvent("contact","click","submit_button")})}};$(document).ready(function(){globals.init()}),[].slice.call(document.querySelectorAll(".nav-doubleflip > a")).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault()})});